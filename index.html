<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Iv√°n Mesa Dom√≠nguez ‚Äî Dev Portfolio</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Mono:ital,wght@0,400;0,500;1,400&family=Lora:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet">

  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg:         #080d18;
      --bg2:        #0d1524;
      --bg3:        #111c30;
      --surface:    #162035;
      --border:     rgba(255,255,255,0.07);
      --gold:       #e8a040;
      --gold-dim:   rgba(232,160,64,0.15);
      --gold-glow:  rgba(232,160,64,0.06);
      --text:       #dce6f5;
      --muted:      #7a8fad;
      --accent-b:   #3d7fff;
      --accent-g:   #2ecc8a;
      --accent-v:   #9b6dff;
      --radius:     12px;
      --radius-lg:  20px;
    }

    html { scroll-behavior: smooth; }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Lora', Georgia, serif;
      font-size: 16px;
      line-height: 1.7;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: fixed; inset: 0;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
      pointer-events: none; z-index: 1000;
      opacity: 0.45;
    }

    .topbar {
      position: sticky; top: 0; z-index: 100;
      background: rgba(8,13,24,0.85);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
      padding: 0 clamp(24px, 5vw, 80px);
      display: flex; align-items: center; justify-content: space-between;
      height: 62px;
    }
    .topbar-logo {
      font-family: 'Syne', sans-serif;
      font-weight: 800; font-size: 18px;
      letter-spacing: -0.02em; color: var(--text);
      text-decoration: none;
    }
    .topbar-logo span { color: var(--gold); }
    .topbar-nav { display: flex; gap: 8px; align-items: center; }
    .nav-link {
      font-family: 'DM Mono', monospace; font-size: 12px;
      color: var(--muted); text-decoration: none; letter-spacing: 0.04em;
      padding: 6px 14px; border-radius: 6px;
      transition: color .2s, background .2s;
    }
    .nav-link:hover { color: var(--text); background: var(--surface); }
    .nav-cta {
      font-family: 'DM Mono', monospace; font-size: 12px; font-weight: 500;
      background: var(--gold); color: #0a0d14;
      text-decoration: none; padding: 7px 18px; border-radius: 6px;
      letter-spacing: 0.04em; transition: opacity .2s, transform .15s;
    }
    .nav-cta:hover { opacity: 0.88; transform: translateY(-1px); }

    .wrap { max-width: 1160px; margin: 0 auto; padding: 0 clamp(20px, 5vw, 60px); }

    .hero {
      min-height: calc(100vh - 62px);
      display: flex; flex-direction: column; justify-content: center;
      padding: 80px clamp(20px, 5vw, 60px);
      max-width: 1160px; margin: 0 auto;
      position: relative;
    }
    .hero-eyebrow {
      font-family: 'DM Mono', monospace; font-size: 12px;
      color: var(--gold); letter-spacing: 0.14em; text-transform: uppercase;
      display: flex; align-items: center; gap: 10px;
      margin-bottom: 28px;
      opacity: 0; animation: fadeUp .6s .1s ease forwards;
    }
    .hero-eyebrow::before {
      content: ''; display: block; width: 32px; height: 1px; background: var(--gold);
    }
    .hero-name {
      font-family: 'Syne', sans-serif; font-weight: 800;
      font-size: clamp(52px, 9vw, 112px); line-height: 0.92;
      letter-spacing: -0.03em; color: #fff;
      opacity: 0; animation: fadeUp .7s .2s ease forwards;
    }
    .hero-name em { font-style: normal; color: var(--gold); }
    .hero-sub {
      font-family: 'Lora', serif; font-size: clamp(15px, 2vw, 19px);
      color: var(--muted); line-height: 1.65; font-style: italic;
      max-width: 560px; margin-top: 28px;
      opacity: 0; animation: fadeUp .7s .35s ease forwards;
    }
    .hero-photo-wrap { display: flex; align-items: flex-start; gap: clamp(28px, 5vw, 60px); flex-wrap: wrap; }
    .hero-photo {
      flex-shrink: 0;
      width: clamp(90px, 14vw, 148px); height: clamp(90px, 14vw, 148px);
      border-radius: 50%;
      border: 3px solid var(--gold);
      box-shadow: 0 0 0 6px var(--gold-dim), 0 16px 48px rgba(0,0,0,0.5);
      object-fit: cover; object-position: top center;
      opacity: 0; animation: fadeIn .8s .15s ease forwards;
    }
    .hero-text { flex: 1; min-width: 240px; }

    .btn-primary {
      font-family: 'DM Mono', monospace; font-size: 13px; font-weight: 500;
      background: var(--gold); color: #08090f;
      padding: 13px 28px; border-radius: var(--radius);
      text-decoration: none; letter-spacing: 0.04em;
      transition: transform .2s, box-shadow .2s;
      display: inline-block; margin-top: 30px;
    }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 28px rgba(232,160,64,0.3); }

    section { padding: 96px 0; }
    .section-tag {
      font-family: 'DM Mono', monospace; font-size: 11px;
      color: var(--gold); letter-spacing: 0.16em; text-transform: uppercase;
      display: flex; align-items: center; gap: 10px; margin-bottom: 20px;
    }
    .section-tag::before { content: ''; width: 24px; height: 1px; background: var(--gold); display: block; }
    .section-title {
      font-family: 'Syne', sans-serif; font-weight: 800;
      font-size: clamp(32px, 5vw, 54px); line-height: 1.05;
      letter-spacing: -0.025em; color: #fff; margin-bottom: 16px;
    }

    .toolbar { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; margin-bottom: 32px; }
    .input {
      padding: 10px 14px; background: var(--bg2); border: 1px solid var(--border);
      border-radius: var(--radius); color: var(--text);
      font-family: 'DM Mono', monospace; font-size: 12.5px; outline: none; flex: 1; min-width: 200px;
    }
    .select {
      padding: 10px 14px; background: var(--bg2); border: 1px solid var(--border);
      border-radius: var(--radius); color: var(--muted); font-family: 'DM Mono', monospace;
      font-size: 12.5px; cursor: pointer;
    }
    .filter-btns { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 20px; }
    .filter-btn {
      font-family: 'DM Mono', monospace; font-size: 11px; color: var(--muted);
      border: 1px solid var(--border); background: transparent; padding: 8px 16px;
      border-radius: var(--radius); cursor: pointer; transition: all .2s;
    }
    .filter-btn.active { color: var(--gold); border-color: var(--gold); background: var(--gold-dim); }

    .repos-grid {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px;
    }
    .repo-card {
      background: var(--bg2); border: 1px solid var(--border);
      border-radius: var(--radius); padding: 22px; transition: all .2s;
      display: flex; flex-direction: column;
    }
    .repo-card:hover { border-color: rgba(255,255,255,0.15); transform: translateY(-2px); }
    .repo-card h4 { font-family: 'Syne', sans-serif; font-size: 15px; color: #fff; margin-bottom: 8px; }
    .repo-desc { color: var(--muted); font-size: 13px; flex: 1; }
    .repo-pills { display: flex; flex-wrap: wrap; gap: 5px; margin: 12px 0; }
    .repo-pill {
      font-family: 'DM Mono', monospace; font-size: 10px; color: var(--muted);
      border: 1px solid var(--border); padding: 2px 9px; border-radius: 100px;
    }
    .repo-meta {
      display: flex; gap: 16px; margin-top: 12px; padding-top: 12px;
      border-top: 1px solid var(--border); font-family: 'DM Mono', monospace;
      font-size: 11px; color: var(--muted);
    }
    .repo-link { color: var(--gold); text-decoration: none; font-size: 11px; margin-top: 12px; display: block; }

    @keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  </style>
</head>

<body>
  <nav class="topbar">
    <a href="#" class="topbar-logo">IV√ÅN MESA<span>_</span></a>
    <div class="topbar-nav">
      <a href="#proyectos" class="nav-link">Proyectos</a>
      <a href="mailto:ivan.mesa.dominguez@gmail.com" class="nav-cta">Contacto</a>
    </div>
  </nav>

  <main class="wrap">
    <section class="hero">
      <div class="hero-eyebrow">Desarrollador de Software en formaci√≥n</div>
      <div class="hero-photo-wrap">
        <img src="assets/img/perfil.jpg" alt="Iv√°n Mesa" class="hero-photo">
        <div class="hero-text">
          <h1 class="hero-name">Iv√°n Mesa <em>Dom√≠nguez</em></h1>
          <p class="hero-sub">
            Estudiante de 1¬∫ DAM. Combinando 15 a√±os de direcci√≥n comercial con la pasi√≥n por el desarrollo. Especializado en Java, C++ y automatizaci√≥n.
          </p>
          <a href="#proyectos" class="btn-primary">Explorar Proyectos</a>
        </div>
      </div>
    </section>

    <hr class="divider">

    <section id="proyectos">
      <div class="section-tag">Repositorios</div>
      <h2 class="section-title">Mi ecosistema de c√≥digo</h2>
      
      <div class="toolbar">
        <input id="q" class="input" type="text" placeholder="Buscar tecnolog√≠a o proyecto..." />
        <select id="sort" class="select">
          <option value="updated">Actividad reciente</option>
          <option value="stars">M√°s estrellas</option>
          <option value="name">Nombre</option>
        </select>
      </div>

      <div class="filter-btns">
        <button class="filter-btn active" data-topic="all">Todos</button>
        <button class="filter-btn" data-topic="showcase">Showcase</button>
        <button class="filter-btn" data-topic="java">Java</button>
        <button class="filter-btn" data-topic="cpp">C++</button>
        <button class="filter-btn" data-topic="automation">Automatizaci√≥n</button>
      </div>

      <div id="repos" class="repos-grid">
        </div>
    </section>
  </main>

  <footer>
    <p>¬© 2024 ‚Äî Iv√°n Mesa Dom√≠nguez. Construido con <span>Git & Pasi√≥n</span>.</p>
  </footer>

  <script>
    const GITHUB_USERNAME = "IvnMD";
    const FEATURED_TOPIC = "showcase";
    let allRepos = [];
    let activeTopic = "all";

    function formatDate(iso){
      return new Date(iso).toLocaleDateString("es-ES", {year:"numeric", month:"short", day:"2-digit"});
    }

    async function fetchRepos(){
      try {
        const url = `https://api.github.com/users/${GITHUB_USERNAME}/repos?per_page=100&sort=updated`;
        const res = await fetch(url);
        if(!res.ok) throw new Error("No se pudo conectar con GitHub");
        const repos = await res.json();
        // Filtrar solo repositorios propios (no forks)
        return repos.filter(r => !r.fork);
      } catch (err) {
        console.error(err);
        return [];
      }
    }

    function render(){
      const el = document.getElementById("repos");
      const q = (document.getElementById("q").value || "").toLowerCase();
      const sort = document.getElementById("sort").value;

      let filtered = allRepos.filter(r => {
        const matchesText = r.name.toLowerCase().includes(q) || (r.description||"").toLowerCase().includes(q);
        const matchesTopic = activeTopic === "all" ? true : (r.topics && r.topics.includes(activeTopic));
        return matchesText && matchesTopic;
      });

      if (sort === "updated") filtered.sort((a,b) => new Date(b.updated_at) - new Date(a.updated_at));
      if (sort === "stars") filtered.sort((a,b) => b.stargazers_count - a.stargazers_count);
      if (sort === "name") filtered.sort((a,b) => a.name.localeCompare(b.name));

      el.innerHTML = filtered.length ? "" : `<div style="color:var(--muted)">No hay resultados.</div>`;

      filtered.forEach(r => {
        const pills = (r.topics && r.topics.length)
          ? r.topics.slice(0, 3).map(t => `<span class="repo-pill">${t}</span>`).join("")
          : `<span class="repo-pill">proyecto</span>`;

        el.insertAdjacentHTML("beforeend", `
          <article class="repo-card">
            <h4>${r.name.replace(/-/g, ' ')}</h4>
            <p class="repo-desc">${r.description || "Sin descripci√≥n disponible."}</p>
            <div class="repo-pills">${pills}</div>
            <div class="repo-meta">
              <span>‚≠ê ${r.stargazers_count}</span>
              <span>üß© ${r.language || 'Code'}</span>
              <span>üïí ${formatDate(r.updated_at)}</span>
            </div>
            <a class="repo-link" href="${r.html_url}" target="_blank" rel="noopener">Ver C√≥digo ‚Üí</a>
          </article>
        `);
      });
    }

    function bindUI(){
      document.getElementById("q").addEventListener("input", render);
      document.getElementById("sort").addEventListener("change", render);
      document.querySelectorAll(".filter-btn").forEach(btn => {
        btn.addEventListener("click", () => {
          document.querySelectorAll(".filter-btn").forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
          activeTopic = btn.dataset.topic;
          render();
        });
      });
    }

    async function main(){
      bindUI();
      allRepos = await fetchRepos();
      render();
    }

    main();
  </script>
</body>
</html>
